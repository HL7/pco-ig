<?xml version="1.0" encoding="UTF-8"?>

<Measure xmlns="http://hl7.org/fhir">
  <id value="PHQ9MeasureExample"/>
  <meta>
    <profile value="http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/computable-measure-cqfm"/>
  </meta>
  <text>
    <status value="extensions"/><div xmlns="http://www.w3.org/1999/xhtml">
    <table class="grid dict">
        
            <tr>
                <th scope="row"><b>Title: </b></th>
                <td style="padding-left: 4px;">PHQ-9 Measure Example</td>
            </tr>
        

        

        
            <tr>
                <th scope="row"><b>Id: </b></th>
                <td style="padding-left: 4px;">PHQ9MeasureExample</td>
            </tr>
        

        
            <tr>
                <th scope="row"><b>Version: </b></th>
                <td style="padding-left: 4px;">0.1.0</td>
            </tr>
        

        
            <tr>
                <th scope="row"><b>Url: </b></th>
                <td style="padding-left: 4px;"><a href="Measure-PHQ9MeasureExample.html">PHQ-9 Measure Example</a></td>
            </tr>
        

        

        

        
            <tr>
                <th scope="row"><b>Status: </b></th>
                <td style="padding-left: 4px;">draft</td>
            </tr>
        

        
            <tr>
                <th scope="row"><b>Experimental: </b></th>
                <td style="padding-left: 4px;">true</td>
            </tr>
        

        
            <tr>
                <th scope="row"><b>Publisher: </b></th>
                <td style="padding-left: 4px;">Mountain Lotus WellBeing LLC</td>
            </tr>
        

        

        

        
            <tr>
                <th scope="row"><b>Description: </b></th>
                <td style="padding-left: 4px;"><div><p>Example measure illustrating a continuous variable measure calculating scores from multiple questionnaires</p>
</div></td>
            </tr>
        

        

        

        

        
            <tr>
                <th scope="row"><b>Jurisdiction: </b></th>
                <td style="padding-left: 4px;">001</td>
            </tr>
        

        

        

        

        

        

        

        
            <tr>
                <th scope="row"><b>Scoring: </b></th>
                <td style="padding-left: 4px;">
                    
                        
                            <p style="margin-bottom: 5px;">
                                <span>Continuous Variable </span>
                            </p>
                        
                    
                    
                </td>
            </tr>
        

        

        
            <tr>
                <th scope="row"><b>Type: </b></th>
                <td style="padding-left: 4px;">
                    
                        
                            <p style="margin-bottom: 5px;">
                                <span>process </span>
                            </p>
                        
                    
                    
                </td>
            </tr>
        

        

        

        

        

        
            <tr>
                <th scope="row"><b>Improvement Notation: </b></th>
                <td style="padding-left: 4px;">
                    
                        
                            <p style="margin-bottom: 5px;">
                                <span>increase </span>
                            </p>
                        
                    
                    
                </td>
            </tr>
        

        

        
            
        

        

        

        

        
            <tr>
                <th scope="row"><b>Libraries: </b></th>
                <td style="padding-left: 4px;">
                    <table class="grid-dict">
                        
                            <tr>
                                <td><a href="Library-PHQ9MeasureExample.html">PHQ9MeasureExample</a></td>
                            </tr>
                        
                    </table>
                </td>
            </tr>
        

        

        
            
                <tr>
                    <th scope="row"><b>Terminology and Other Dependencies: </b></th>
                    <td style="padding-left: 4px;">
                        
                            <li><a href="Library-PHQ9ScoreLogic.html">PHQ9ScoreLogic</a></li>
                        
                            <li><code>http://mtnlotus.com/uv/pco/Library/FHIRHelpers|4.0.1</code></li>
                        
                            <li><a href="http://terminology.hl7.org/6.0.2/CodeSystem-v3-loinc.html">Logical Observation Identifiers, Names and Codes (LOINC)</a></li>
                        
                    </td>
                </tr>
                <tr>
                    <th scope="row"><b>Parameters:</b></th>
                    <td style="padding-left: 4px;">
                        <table class="grid-dict">
                            <tr>
                                <th><b>name</b></th>
                                <th><b>use</b></th>
                                <th><b>min</b></th>
                                <th><b>max</b></th>
                                <th><b>type</b></th>
                            </tr>
                            
                                <tr>
                                    <td>Measurement Period</td>
                                    <td>In</td>
                                    <td>0</td>
                                    <td>1</td>
                                    <td>Period</td>
                                </tr>
                            
                                <tr>
                                    <td>Initial Population</td>
                                    <td>Out</td>
                                    <td>0</td>
                                    <td>1</td>
                                    <td>boolean</td>
                                </tr>
                            
                                <tr>
                                    <td>Measure Population</td>
                                    <td>Out</td>
                                    <td>0</td>
                                    <td>1</td>
                                    <td>boolean</td>
                                </tr>
                            
                        </table>
                    </td>
                </tr>

                <tr>
                    <th scope="row"><b>DataRequirements:</b></th>
                    <td style="padding-left: 4px;">
                        <table class="grid-dict">
                            <tr>
                                <th><b>Resource Type</b></th>
                                <th><b>Resource Elements</b></th>
                                <th><b>Valueset Name</b></th>
                                <th><b>Valueset</b></th>
                            </tr>
                            
                                <tr>
                                    <td>Patient(<a href="http://hl7.org/fhir/R4/patient.html">Patient</a>)</td>
                                    <td>
                                        
                                    </td>
                                    <td>
                                        
                                    </td>
                                    <td/>
                                </tr>
                            
                        </table>
                    </td>
                </tr>

                
                    <tr>
                        <th scope="row"><b>Direct Reference Codes:</b></th>
                        <td style="padding-left: 4px;">
                            <table class="grid-dict">
                                <tr>
                                    <th><b>display</b></th>
                                    <th><b>code</b></th>
                                    <th><b>system</b></th>
                                </tr>
                                
                                    <tr>
                                        <td/>
                                        <td>LA6568-5</td>
                                        <td><a href="http://terminology.hl7.org/6.0.2/CodeSystem-v3-loinc.html">http://loinc.org</a></td>
                                    </tr>
                                
                                    <tr>
                                        <td/>
                                        <td>LA6569-3</td>
                                        <td><a href="http://terminology.hl7.org/6.0.2/CodeSystem-v3-loinc.html">http://loinc.org</a></td>
                                    </tr>
                                
                                    <tr>
                                        <td/>
                                        <td>LA6570-1</td>
                                        <td><a href="http://terminology.hl7.org/6.0.2/CodeSystem-v3-loinc.html">http://loinc.org</a></td>
                                    </tr>
                                
                                    <tr>
                                        <td/>
                                        <td>LA6571-9</td>
                                        <td><a href="http://terminology.hl7.org/6.0.2/CodeSystem-v3-loinc.html">http://loinc.org</a></td>
                                    </tr>
                                
                            </table>
                        </td>
                    </tr>
                

                
                <tr>
                    <th scope="row"><b>Logic Definitions:</b></th>
                    <td style="padding-left: 4px;">
                        
                        <table class="grid-dict">
                            <tr>
                                <th><b>Group</b></th>
                                <th><b>Scoring</b></th>
                                <th><b>Population Criteria</b></th>
                                <th><b>Expression</b></th>
                            </tr>
                            <tr>
                                
                                <td> group-1 </td>
                                <td colspan="3" style="padding-left: 4px;">
                                    

                                    

                                    
                                        <b>Measure scoring:</b>
                                        
                                            <p style="margin-bottom: 5px;">
                                                <span>Continuous Variable</span>
                                            </p>
                                        
                                    

                                    

                                    

                                    

                                    

                                    

                                    

                                </td>
                                
                                <tr>
                                    <td/>
                                    <td/>
                                    <td>Initial Population</td>
                                    <td>
                                        
                                            <pre><code class="language-cql">define &quot;Initial Population&quot;:
  AgeInYearsAt(start of &quot;Measurement Period&quot;) &gt;= 18</code></pre>
                                        
                                    </td>
                                </tr>
                                
                                <tr>
                                    <td/>
                                    <td/>
                                    <td>Measure Population</td>
                                    <td>
                                        
                                            <pre><code class="language-cql">// Likely some condition or other relevant characteristic such as a depression diagnosis
define &quot;Measure Population&quot;:
  true</code></pre>
                                        
                                    </td>
                                </tr>
                                
                                <tr>
                                    <td/>
                                    <td/>
                                    <td>Measure Observation</td>
                                    <td>
                                        
                                            <pre><code class="language-cql">/*
Measure observation is a function defined in terms of the types of members of the measure
population, Patient in this case. In a population evaluation scenario, the measure
observation is evaluated for every member of the population.

In an individual report scenario, however, the measure observation is evaluated for
the current patient. Note that the patient context is flowing through the call here
*/
define function &quot;MeasureObservation&quot;(patient Patient):
  PHQ9Logic.CalculateTotalScore</code></pre>
                                        
                                    </td>
                                </tr>
                                
                                
                            
                            </tr>
                        </table>
                

                <table class="grid-dict">
                    
                        <tr>
                            <th><b>Library Name</b></th>
                            <th><b>Name</b></th>
                        </tr>
                        <tr>
                            
                                <td>PHQ9ScoreLogic</td>
                            
                            
                                <td>QuestionnaireResponse</td>
                            
                        </tr>
                        <tr>
                            
                                <td/>
                                <td>
                                    <pre class="highlight language-cql"><code class="language-cql">// Use the QuestionnaireResponse provided as a parameter if available
// Otherwise look it up from the record
define &quot;QuestionnaireResponse&quot;:
  if response is not null then
    response
  else
    Last(
      [QuestionnaireResponse] QR
        where QR.questionnaire = 'http://loinc.org/q/44249-1'
        sort by (authored as FHIR.dateTime) desc
    )</code></pre>
                                </td>
                            
                        </tr>
                    
                        <tr>
                            <th><b>Library Name</b></th>
                            <th><b>Name</b></th>
                        </tr>
                        <tr>
                            
                                <td>PHQ9ScoreLogic</td>
                            
                            
                                <td>Responses</td>
                            
                        </tr>
                        <tr>
                            
                                <td/>
                                <td>
                                    <pre class="highlight language-cql"><code class="language-cql">// NOTE: This ties this logic directly to this particular rendering of the Questionnaire.
// Ideally the items would be filtered based on Code of the Item, rather than the LinkId,
// but that would require pulling in the Questionnaire because the QuestionnaireResponse
// only has the LinkId.
define &quot;Responses&quot;:
  &quot;QuestionnaireResponse&quot; QR
    return QR.item I where I.linkId in {
      '14363', //'LittleInterest'
      '14364', //'FeelingDown'
      '14365', //'TroubleSleeping'
      '14366', //'FeelingTired'
      '14367', //'BadApetite'
      '14368', //'FeelingBadAboutSelf'
      '14369', //'TroubleConcetrating'
      '14370' //'MovingSpeaking'
      // '14371' // HurtingSelf
    }</code></pre>
                                </td>
                            
                        </tr>
                    
                        <tr>
                            <th><b>Library Name</b></th>
                            <th><b>Name</b></th>
                        </tr>
                        <tr>
                            
                                <td>PHQ9ScoreLogic</td>
                            
                            
                                <td>CalculateTotalScore</td>
                            
                        </tr>
                        <tr>
                            
                                <td/>
                                <td>
                                    <pre class="highlight language-cql"><code class="language-cql">define &quot;CalculateTotalScore&quot;:
  Sum(&quot;Responses&quot; R return all AnswerCardinality(First(R.answer.value)))</code></pre>
                                </td>
                            
                        </tr>
                    
                        <tr>
                            <th><b>Library Name</b></th>
                            <th><b>Name</b></th>
                        </tr>
                        <tr>
                            
                                <td>PHQ9MeasureExample</td>
                            
                            
                                <td>Initial Population</td>
                            
                        </tr>
                        <tr>
                            
                                <td/>
                                <td>
                                    <pre class="highlight language-cql"><code class="language-cql">define &quot;Initial Population&quot;:
  AgeInYearsAt(start of &quot;Measurement Period&quot;) &gt;= 18</code></pre>
                                </td>
                            
                        </tr>
                    
                        <tr>
                            <th><b>Library Name</b></th>
                            <th><b>Name</b></th>
                        </tr>
                        <tr>
                            
                                <td>PHQ9MeasureExample</td>
                            
                            
                                <td>Measure Population</td>
                            
                        </tr>
                        <tr>
                            
                                <td/>
                                <td>
                                    <pre class="highlight language-cql"><code class="language-cql">// Likely some condition or other relevant characteristic such as a depression diagnosis
define &quot;Measure Population&quot;:
  true</code></pre>
                                </td>
                            
                        </tr>
                    
                        <tr>
                            <th><b>Library Name</b></th>
                            <th><b>Name</b></th>
                        </tr>
                        <tr>
                            
                                <td>PHQ9MeasureExample</td>
                            
                            
                                <td>MeasureObservation</td>
                            
                        </tr>
                        <tr>
                            
                                <td/>
                                <td>
                                    <pre class="highlight language-cql"><code class="language-cql">/*
Measure observation is a function defined in terms of the types of members of the measure
population, Patient in this case. In a population evaluation scenario, the measure
observation is evaluated for every member of the population.

In an individual report scenario, however, the measure observation is evaluated for
the current patient. Note that the patient context is flowing through the call here
*/
define function &quot;MeasureObservation&quot;(patient Patient):
  PHQ9Logic.CalculateTotalScore</code></pre>
                                </td>
                            
                        </tr>
                    
                        <tr>
                            <th><b>Library Name</b></th>
                            <th><b>Name</b></th>
                        </tr>
                        <tr>
                            
                                <td>FHIRHelpers</td>
                            
                            
                                <td>ToString</td>
                            
                        </tr>
                        <tr>
                            
                                <td/>
                                <td>
                                    <pre class="highlight language-cql"><code class="language-cql">define function ToString(value string): value.value</code></pre>
                                </td>
                            
                        </tr>
                    
                        <tr>
                            <th><b>Library Name</b></th>
                            <th><b>Name</b></th>
                        </tr>
                        <tr>
                            
                                <td>PHQ9ScoreLogic</td>
                            
                            
                                <td>AnswerCardinality</td>
                            
                        </tr>
                        <tr>
                            
                                <td/>
                                <td>
                                    <pre class="highlight language-cql"><code class="language-cql">/*
@source: https://www.med.umich.edu/1info/FHP/practiceguides/depress/score.pdf
*/
define function &quot;AnswerCardinality&quot;(answer Coding):
  case
    when answer ~ &quot;Not at all&quot; then 0
    when answer ~ &quot;Several days&quot; then 1
    when answer ~ &quot;More than half the days&quot; then 2
    when answer ~ &quot;Nearly every day&quot; then 3
    else null
  end</code></pre>
                                </td>
                            
                        </tr>
                    
                        <tr>
                            <th><b>Library Name</b></th>
                            <th><b>Name</b></th>
                        </tr>
                        <tr>
                            
                                <td>FHIRHelpers</td>
                            
                            
                                <td>ToCode</td>
                            
                        </tr>
                        <tr>
                            
                                <td/>
                                <td>
                                    <pre class="highlight language-cql"><code class="language-cql">define function ToCode(coding FHIR.Coding):
    if coding is null then
        null
    else
        System.Code {
          code: coding.code.value,
          system: coding.system.value,
          version: coding.version.value,
          display: coding.display.value
        }</code></pre>
                                </td>
                            
                        </tr>
                    
                    </table>
                </td>
            </tr>
            
        
    

    </table>
</div>
  </text>
  <contained>
    <Library>
      <id value="effective-data-requirements"/>
      <extension url="http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-directReferenceCode">
        <valueCoding>
          <system value="http://loinc.org"/>
          <code value="LA6568-5"/>
        </valueCoding>
      </extension>
      <extension url="http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-directReferenceCode">
        <valueCoding>
          <system value="http://loinc.org"/>
          <code value="LA6569-3"/>
        </valueCoding>
      </extension>
      <extension url="http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-directReferenceCode">
        <valueCoding>
          <system value="http://loinc.org"/>
          <code value="LA6570-1"/>
        </valueCoding>
      </extension>
      <extension url="http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-directReferenceCode">
        <valueCoding>
          <system value="http://loinc.org"/>
          <code value="LA6571-9"/>
        </valueCoding>
      </extension>
      <extension url="http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-logicDefinition">
        <extension url="libraryName">
          <valueString value="PHQ9ScoreLogic"/>
        </extension>
        <extension url="name">
          <valueString value="QuestionnaireResponse"/>
        </extension>
        <extension url="statement">
          <valueString value="// Use the QuestionnaireResponse provided as a parameter if available&#xA;// Otherwise look it up from the record&#xA;define &quot;QuestionnaireResponse&quot;:&#xA;  if response is not null then&#xA;    response&#xA;  else&#xA;    Last(&#xA;      [QuestionnaireResponse] QR&#xA;        where QR.questionnaire = 'http://loinc.org/q/44249-1'&#xA;        sort by (authored as FHIR.dateTime) desc&#xA;    )"/>
        </extension>
        <extension url="displaySequence">
          <valueInteger value="0"/>
        </extension>
      </extension>
      <extension url="http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-logicDefinition">
        <extension url="libraryName">
          <valueString value="PHQ9ScoreLogic"/>
        </extension>
        <extension url="name">
          <valueString value="Responses"/>
        </extension>
        <extension url="statement">
          <valueString value="// NOTE: This ties this logic directly to this particular rendering of the Questionnaire.&#xA;// Ideally the items would be filtered based on Code of the Item, rather than the LinkId,&#xA;// but that would require pulling in the Questionnaire because the QuestionnaireResponse&#xA;// only has the LinkId.&#xA;define &quot;Responses&quot;:&#xA;  &quot;QuestionnaireResponse&quot; QR&#xA;    return QR.item I where I.linkId in {&#xA;      '14363', //'LittleInterest'&#xA;      '14364', //'FeelingDown'&#xA;      '14365', //'TroubleSleeping'&#xA;      '14366', //'FeelingTired'&#xA;      '14367', //'BadApetite'&#xA;      '14368', //'FeelingBadAboutSelf'&#xA;      '14369', //'TroubleConcetrating'&#xA;      '14370' //'MovingSpeaking'&#xA;      // '14371' // HurtingSelf&#xA;    }"/>
        </extension>
        <extension url="displaySequence">
          <valueInteger value="1"/>
        </extension>
      </extension>
      <extension url="http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-logicDefinition">
        <extension url="libraryName">
          <valueString value="PHQ9ScoreLogic"/>
        </extension>
        <extension url="name">
          <valueString value="CalculateTotalScore"/>
        </extension>
        <extension url="statement">
          <valueString value="define &quot;CalculateTotalScore&quot;:&#xA;  Sum(&quot;Responses&quot; R return all AnswerCardinality(First(R.answer.value)))"/>
        </extension>
        <extension url="displaySequence">
          <valueInteger value="2"/>
        </extension>
      </extension>
      <extension url="http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-logicDefinition">
        <extension url="libraryName">
          <valueString value="PHQ9MeasureExample"/>
        </extension>
        <extension url="name">
          <valueString value="Initial Population"/>
        </extension>
        <extension url="statement">
          <valueString value="define &quot;Initial Population&quot;:&#xA;  AgeInYearsAt(start of &quot;Measurement Period&quot;) &gt;= 18"/>
        </extension>
        <extension url="displaySequence">
          <valueInteger value="3"/>
        </extension>
      </extension>
      <extension url="http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-logicDefinition">
        <extension url="libraryName">
          <valueString value="PHQ9MeasureExample"/>
        </extension>
        <extension url="name">
          <valueString value="Measure Population"/>
        </extension>
        <extension url="statement">
          <valueString value="// Likely some condition or other relevant characteristic such as a depression diagnosis&#xA;define &quot;Measure Population&quot;:&#xA;  true"/>
        </extension>
        <extension url="displaySequence">
          <valueInteger value="4"/>
        </extension>
      </extension>
      <extension url="http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-logicDefinition">
        <extension url="libraryName">
          <valueString value="PHQ9MeasureExample"/>
        </extension>
        <extension url="name">
          <valueString value="MeasureObservation"/>
        </extension>
        <extension url="statement">
          <valueString value="/*&#xA;Measure observation is a function defined in terms of the types of members of the measure&#xA;population, Patient in this case. In a population evaluation scenario, the measure&#xA;observation is evaluated for every member of the population.&#xA;&#xA;In an individual report scenario, however, the measure observation is evaluated for&#xA;the current patient. Note that the patient context is flowing through the call here&#xA;*/&#xA;define function &quot;MeasureObservation&quot;(patient Patient):&#xA;  PHQ9Logic.CalculateTotalScore"/>
        </extension>
        <extension url="displaySequence">
          <valueInteger value="5"/>
        </extension>
      </extension>
      <extension url="http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-logicDefinition">
        <extension url="libraryName">
          <valueString value="FHIRHelpers"/>
        </extension>
        <extension url="name">
          <valueString value="ToString"/>
        </extension>
        <extension url="statement">
          <valueString value="define function ToString(value string): value.value"/>
        </extension>
        <extension url="displaySequence">
          <valueInteger value="6"/>
        </extension>
      </extension>
      <extension url="http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-logicDefinition">
        <extension url="libraryName">
          <valueString value="PHQ9ScoreLogic"/>
        </extension>
        <extension url="name">
          <valueString value="AnswerCardinality"/>
        </extension>
        <extension url="statement">
          <valueString value="/*&#xA;@source: https://www.med.umich.edu/1info/FHP/practiceguides/depress/score.pdf&#xA;*/&#xA;define function &quot;AnswerCardinality&quot;(answer Coding):&#xA;  case&#xA;    when answer ~ &quot;Not at all&quot; then 0&#xA;    when answer ~ &quot;Several days&quot; then 1&#xA;    when answer ~ &quot;More than half the days&quot; then 2&#xA;    when answer ~ &quot;Nearly every day&quot; then 3&#xA;    else null&#xA;  end"/>
        </extension>
        <extension url="displaySequence">
          <valueInteger value="7"/>
        </extension>
      </extension>
      <extension url="http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-logicDefinition">
        <extension url="libraryName">
          <valueString value="FHIRHelpers"/>
        </extension>
        <extension url="name">
          <valueString value="ToCode"/>
        </extension>
        <extension url="statement">
          <valueString value="define function ToCode(coding FHIR.Coding):&#xA;    if coding is null then&#xA;        null&#xA;    else&#xA;        System.Code {&#xA;          code: coding.code.value,&#xA;          system: coding.system.value,&#xA;          version: coding.version.value,&#xA;          display: coding.display.value&#xA;        }"/>
        </extension>
        <extension url="displaySequence">
          <valueInteger value="8"/>
        </extension>
      </extension>
      <name value="EffectiveDataRequirements"/>
      <status value="active"/>
      <type>
        <coding>
          <system value="http://terminology.hl7.org/CodeSystem/library-type"/>
          <code value="module-definition"/>
        </coding>
      </type>
      <relatedArtifact>
        <type value="depends-on"/>
        <display value="Library PHQ9Logic"/>
        <resource value="http://mtnlotus.com/uv/pco/Library/PHQ9ScoreLogic"/>
      </relatedArtifact>
      <relatedArtifact>
        <type value="depends-on"/>
        <display value="Library FHIRHelpers"/>
        <resource value="http://mtnlotus.com/uv/pco/Library/FHIRHelpers|4.0.1"/>
      </relatedArtifact>
      <relatedArtifact>
        <type value="depends-on"/>
        <display value="Code system LOINC"/>
        <resource value="http://loinc.org"/>
      </relatedArtifact>
      <parameter>
        <name value="Measurement Period"/>
        <use value="in"/>
        <min value="0"/>
        <max value="1"/>
        <type value="Period"/>
      </parameter>
      <parameter>
        <name value="Initial Population"/>
        <use value="out"/>
        <min value="0"/>
        <max value="1"/>
        <type value="boolean"/>
      </parameter>
      <parameter>
        <name value="Measure Population"/>
        <use value="out"/>
        <min value="0"/>
        <max value="1"/>
        <type value="boolean"/>
      </parameter>
      <dataRequirement>
        <type value="Patient"/>
        <profile value="http://hl7.org/fhir/StructureDefinition/Patient"/>
      </dataRequirement>
    </Library>
  </contained>
  <extension url="http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-softwaresystem">
    <valueReference>
      <reference value="Device/cqf-tooling"/>
    </valueReference>
  </extension>
  <extension id="effective-data-requirements" url="http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-effectiveDataRequirements">
    <valueReference>
      <reference value="#effective-data-requirements"/>
    </valueReference>
  </extension>
  <url value="http://mtnlotus.com/uv/pco/Measure/PHQ9MeasureExample"/>
  <version value="0.1.0"/>
  <name value="PHQ9MeasureExample"/>
  <title value="PHQ-9 Measure Example"/>
  <status value="draft"/>
  <experimental value="true"/>
  <date value="2024-08-06T11:23:14-07:00"/>
  <publisher value="Mountain Lotus WellBeing LLC"/>
  <contact>
    <name value="Mountain Lotus WellBeing LLC"/>
    <telecom>
      <system value="url"/>
      <value value="http://mtnlotus.com"/>
    </telecom>
  </contact>
  <description value="Example measure illustrating a continuous variable measure calculating scores from multiple questionnaires"/>
  <jurisdiction>
    <coding>
      <system value="http://unstats.un.org/unsd/methods/m49/m49.htm"/>
      <code value="001"/>
      <display value="World"/>
    </coding>
  </jurisdiction>
  <library value="http://mtnlotus.com/uv/pco/Library/PHQ9MeasureExample"/>
  <scoring>
    <coding>
      <system value="http://terminology.hl7.org/CodeSystem/measure-scoring"/>
      <code value="continuous-variable"/>
      <display value="Continuous Variable"/>
    </coding>
  </scoring>
  <type>
    <coding>
      <system value="http://terminology.hl7.org/CodeSystem/measure-type"/>
      <code value="process"/>
    </coding>
  </type>
  <improvementNotation>
    <coding>
      <system value="http://terminology.hl7.org/CodeSystem/measure-improvement-notation"/>
      <code value="increase"/>
    </coding>
  </improvementNotation>
  <group id="group-1">
    <population id="8A48538B-80BB-4E8B-9716-559C657278FD">
      <code>
        <coding>
          <system value="http://terminology.hl7.org/CodeSystem/measure-population"/>
          <code value="initial-population"/>
          <display value="Initial Population"/>
        </coding>
      </code>
      <criteria>
        <language value="text/cql-identifier"/>
        <expression value="Initial Population"/>
      </criteria>
    </population>
    <population id="8FBD6CFA-99E4-4108-B083-91067C55170E">
      <code>
        <coding>
          <system value="http://terminology.hl7.org/CodeSystem/measure-population"/>
          <code value="measure-population"/>
          <display value="Measure Population"/>
        </coding>
      </code>
      <criteria>
        <language value="text/cql-identifier"/>
        <expression value="Measure Population"/>
      </criteria>
    </population>
    <population id="8B71AD15-47EB-4939-8318-1DF60CABCFD6">
      <extension url="http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-aggregateMethod">
        <valueCode value="average"/>
      </extension>
      <extension url="http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-criteriaReference">
        <valueString value="8FBD6CFA-99E4-4108-B083-91067C55170E"/>
      </extension>
      <code>
        <coding>
          <system value="http://terminology.hl7.org/CodeSystem/measure-population"/>
          <code value="measure-observation"/>
          <display value="Measure Observation"/>
        </coding>
      </code>
      <criteria>
        <language value="text/cql-identifier"/>
        <expression value="MeasureObservation"/>
      </criteria>
    </population>
  </group>
</Measure>